name: Security Scan

on:
  # åªåœ¨å®šæ—¶ä»»åŠ¡è¿è¡Œï¼Œä¸é˜»å¡æ­£å¸¸æäº¤
  schedule:
    # æ¯å‘¨ä¸€å‡Œæ™¨2ç‚¹è¿è¡Œå®‰å…¨æ‰«æ
    - cron: '0 2 * * 1'
  # æ‰‹åŠ¨è§¦å‘
  workflow_dispatch:

jobs:
  security-scan:
    name: å®‰å…¨æ‰«æ
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkoutä»£ç 
      uses: actions/checkout@v4
    
    - name: è®¾ç½®Javaç¯å¢ƒ
      uses: actions/setup-java@v4
      with:
        java-version: '21'
        distribution: 'temurin'
        cache: maven
    
    - name: ä¾èµ–ç‰ˆæœ¬æ£€æŸ¥
      working-directory: ./course-evaluation-system/backend
      run: |
        echo "ğŸ” æ£€æŸ¥ä¾èµ–ç‰ˆæœ¬..."
        mvn versions:display-dependency-updates -q || true
      continue-on-error: true
    